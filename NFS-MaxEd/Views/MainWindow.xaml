<Window
    AllowsTransparency="True"
    Background="Transparent"
    Height="720"
    Title="NFS Race Creator"
    Width="1250"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    x:Class="NFSMaxEd.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!--  Основная граница окна  -->
    <Border
        Background="{StaticResource BackgroundDark}"
        BorderBrush="{StaticResource BorderColor}"
        BorderThickness="1"
        CornerRadius="10">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="45" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--  Заголовок окна  -->
            <Border
                Background="{StaticResource BackgroundMedium}"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="0,0,0,1"
                CornerRadius="10,10,0,0"
                Grid.Row="0"
                MouseLeftButtonDown="DragWindow">
                <Grid>
                    <!--  Логотип и название  -->
                    <StackPanel
                        HorizontalAlignment="Left"
                        Margin="15,0,0,0"
                        Orientation="Horizontal"
                        VerticalAlignment="Center">
                        <TextBlock
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="{StaticResource AccentSecondary}"
                            Text="NFS MaxEd"
                            VerticalAlignment="Center" />

                        <!--  Toggle кнопка  -->
                        <ToggleButton
                            Click="TogglePanel_Click"
                            Margin="95,0,0,0"
                            Style="{StaticResource TogglePanelButtonStyle}"
                            ToolTip="Toggle Side Panel"
                            VerticalAlignment="Center"
                            x:Name="TogglePanelButton" />
                    </StackPanel>

                    <!--  Системные кнопки  -->
                    <StackPanel
                        HorizontalAlignment="Right"
                        Margin="0,0,10,0"
                        Orientation="Horizontal"
                        VerticalAlignment="Center">
                        <Button
                            Click="Minimize_Click"
                            Content="🗕"
                            Style="{StaticResource WindowButtonStyle}"
                            ToolTip="Minimize" />
                        <Button
                            Click="Maximize_Click"
                            Content="🗖"
                            Style="{StaticResource WindowButtonStyle}"
                            ToolTip="Maximize" />
                        <Button
                            Click="Close_Click"
                            Content="🗙"
                            Style="{StaticResource CloseWindowButtonStyle}"
                            ToolTip="Close" />
                    </StackPanel>
                </Grid>
            </Border>

            <!--  Основной контент  -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!--  Боковая панель  -->
                <Border
                    Background="{StaticResource BackgroundMedium}"
                    BorderBrush="{StaticResource BorderColor}"
                    BorderThickness="0,0,1,0"
                    Grid.Column="0"
                    x:Name="LeftPanel">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <!--  Заголовок навигации  -->
                        <TextBlock
                            FontWeight="Bold"
                            Foreground="{StaticResource TextDisabled}"
                            Grid.Row="0"
                            HorizontalAlignment="Center"
                            Margin="15,20,15,15"
                            Style="{StaticResource CaptionStyle}"
                            Text="NAVIGATION" />

                        <!--  Основная навигация  -->
                        <ScrollViewer
                            Grid.Row="1"
                            HorizontalScrollBarVisibility="Disabled"
                            VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="15,0,15,15" Width="200">
                                <!--  Races  -->
                                <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,12">

                                    <Image
                                        Height="40"
                                        Source="pack://application:,,,/Assets/races.png"
                                        Stretch="Uniform"
                                        Width="60" />
                                    <Button
                                        Click="OnRacesClick"
                                        Content="🏁 Races"
                                        Style="{StaticResource NavButtonStyle}" />
                                </StackPanel>

                                <!--  Milestones  -->
                                <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,12">

                                    <Image
                                        Height="40"
                                        Source="pack://application:,,,/Assets/milestones.png"
                                        Stretch="Uniform"
                                        Width="60" />
                                    <Button
                                        Click="OnMilestonesClick"
                                        Content="🎯 Milestones"
                                        Style="{StaticResource NavButtonStyle}" />
                                </StackPanel>

                                <!--  Blacklist  -->
                                <StackPanel HorizontalAlignment="Stretch">
                                    <Image
                                        Height="40"
                                        Source="pack://application:,,,/Assets/blacklist.png"
                                        Stretch="Uniform"
                                        Width="60" />
                                    <Button
                                        Click="OnBlacklistClick"
                                        Content="⚠️ Blacklist"
                                        Style="{StaticResource NavButtonStyle}" />
                                </StackPanel>
                            </StackPanel>
                        </ScrollViewer>

                        <!--  Нижняя секция с кнопками действий  -->
                        <StackPanel Grid.Row="2" Margin="15,0,15,20">
                            <!--  Разделитель  -->
                            <Separator Margin="0,0,0,15" />

                            <!--  About Author  -->
                            <Button
                                Click="OnAboutAuthorClick"
                                Content="👨‍💻 About"
                                Margin="0,0,0,12"
                                Style="{StaticResource NavButtonStyle}" />

                            <!--  Кнопка Save  -->
                            <Button
                                Click="OnGenerateClick"
                                Height="45"
                                Style="{StaticResource ButtonStyle}">
                                <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                    <TextBlock
                                        FontSize="20"
                                        Margin="0,0,10,0"
                                        Text="💾"
                                        VerticalAlignment="Center" />
                                    <TextBlock
                                        FontWeight="Bold"
                                        Text="Save Project"
                                        VerticalAlignment="Center" />
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Border>

                <!--  Область контента  -->
                <Grid Background="{StaticResource BackgroundDark}" Grid.Column="1">
                    <Frame
                        Background="Transparent"
                        NavigationUIVisibility="Hidden"
                        x:Name="MainFrame" />
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>